<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tool Generator Embed Player</title>
  <style>
    body {
      background: #111;
      color: #fff;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    input, select, button, textarea {
      width: 100%;
      margin-top: 10px;
      padding: 10px;
      background: #222;
      border: 1px solid #444;
      color: #fff;
    }
    button.copy {
      background: #2c3e50;
      cursor: pointer;
    }
    button.copy:hover {
      background: #34495e;
    }
    textarea {
      height: 150px;
    }
    .tab {
      margin-bottom: 20px;
    }
    .code-box {
      background: #1d1d1d;
      border: 1px solid #333;
      padding: 15px;
      overflow: auto;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <div class="tab">
    <h2>ðŸ”§ Tool Embed Player Generator</h2>
    <form id="generatorForm">
      <label>Player:</label>
      <select id="player">
        <option value="plyr">Plyr</option>
        <option value="video">HTML5 Video</option>
        <option value="fluidplayer">FluidPlayer</option>
        <option value="jwplayer">JWPlayer</option>
      </select>
      <label>Provider:</label>
      <select id="provider">
        <option value="gdrive">Google Drive</option>
        <option value="other">Other</option>
      </select>
      <label>Format MIME:</label>
      <select id="format">
        <option value="video/mp4">video/mp4</option>
        <option value="application/x-mpegURL">application/x-mpegURL (.m3u8)</option>
        <option value="video/webm">video/webm</option>
      </select>
      <label>Link (ID GDrive atau Full URL):</label>
      <input type="text" id="link" placeholder="contoh: 1AbCdEfGhIjKlMn" />
      <button type="submit">ðŸŽ¬ Generate Embed</button>
    </form>
  </div>
  
  <h3>Tambahan: Poster & Iklan</h3>
  <input type="text" id="poster" placeholder="URL Poster Video" /><br><br>
  <input type="text" id="ads_title" placeholder="Judul Iklan" /><br><br>
  <input type="text" id="ads_image" placeholder="URL Gambar Iklan" /><br><br>
  <input type="text" id="ads_url" placeholder="Link Tujuan Iklan" /><br><br>

  <div class="tab">
    <h2>ðŸ“„ Embed Code</h2>
    <div class="code-box">
      <textarea id="embedOutput" readonly></textarea>
      <button class="copy" onclick="copyToClipboard('embedOutput')">ðŸ“‹ Salin Iframe</button>
    </div>
    <p>Preview: <a id="previewLink" href="#" target="_blank">Buka Player</a></p>
  </div>

  <div class="tab">
    <h2>ðŸ”— Link Player Only</h2>
    <div class="code-box">
      <input type="text" id="linkOutput" readonly />
      <button class="copy" onclick="copyToClipboard('linkOutput')">ðŸ”— Salin Link Player</button>
    </div>
  </div>

  <script>
    document.getElementById('generatorForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const player = document.getElementById('player').value;
      const provider = document.getElementById('provider').value;
      const format = document.getElementById('format').value;
      const rawLink = document.getElementById('link').value.trim();
      const encoded = btoa(rawLink);
      const domain = 'https://nontonyuk.github.io/player/index.html';

      const poster = document.getElementById("poster").value.trim();
      const adsTitle = document.getElementById("ads_title").value.trim();
      const adsImage = document.getElementById("ads_image").value.trim();
      const adsUrl = document.getElementById("ads_url").value.trim();

      let url = `${domain}?player=${player}&provider=${provider}&format=${encodeURIComponent(format)}&link=${encoded}`;
      
      if (poster) url += `&poster=${encodeURIComponent(poster)}`;
      if (adsTitle) url += `&ads_title=${encodeURIComponent(adsTitle)}`;
      if (adsImage) url += `&ads_image=${encodeURIComponent(adsImage)}`;
      if (adsUrl) url += `&ads_url=${encodeURIComponent(adsUrl)}`;

      const iframeCode = `<iframe src="${url}" width="100%" height="400" frameborder="0" allowfullscreen></iframe>`;

      document.getElementById('embedOutput').value = iframeCode;
      document.getElementById('linkOutput').value = url;
      document.getElementById('previewLink').href = url;
    });

    function copyToClipboard(id) {
      const el = document.getElementById(id);
      el.select();
      el.setSelectionRange(0, 99999); // for mobile
      document.execCommand("copy");
      alert("âœ… Disalin ke clipboard!");
    }
  </script>
</body>
</html>
